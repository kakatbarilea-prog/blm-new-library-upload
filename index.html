<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Legal Document Library â€“ Inline Upload Flow</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family: Calibri, Arial, sans-serif;
  background:#ffffff;
  color:#0F2D56;
}
.page-wrap{
  max-width: 1200px;
  margin: 0 auto;
}

/* Header */
.header{
  background:#17345C;
  color:#fff;
  padding:18px 0;
  text-align:center;
  font-size:18px;
  font-weight:600;
}

/* Layout */
.container{
  max-width: 1200px;   /* or 1100px / 1280px */
  margin: 0 auto;      /* centers it */
  padding: 22px 26px;
}


/* Recommendation */
.recommend-box{
  background:#F2FAFF;
  border-radius:14px;
  padding:20px 24px;
  border-left:4px solid #0F2D56;
  margin-bottom:26px;
}
.recommend-box h3{
  margin:0 0 10px;
  font-size:15px;
  font-weight:700;
  color:#000;
}
.recommend-box p{
  margin:0 0 10px;
  font-size:14px;
  color:#000;
}
.recommend-box em{
  font-style:italic;
}
.recommend-box a{
  display:inline-block;
  margin-top:14px;
  font-size:14px;
  font-weight:600;
  color:#0F2D56;
  text-decoration:none;
}

/* Actions */
.actions{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.actions input{
  width:320px;
  padding:10px 12px;
  font-size:14px;
  border:1px solid #7A7A7A;
  border-radius:2px;
}
.buttons{
  display:flex;
  gap:12px;
}
.btn-primary{
  background:#0F2D56;
  color:#fff;
  border:none;
  padding:10px 18px;
  font-size:14px;
  font-weight:600;
  border-radius:3px;
  cursor:pointer;
}
.btn-secondary{
  background:#fff;
  color:#000;
  border:1px solid #7A7A7A;
  padding:10px 18px;
  font-size:14px;
  border-radius:3px;
  cursor:pointer;
}

/* Category section */
.category-label{
  margin-top:22px;
  font-size:14px;
  font-weight:700;
  display:none;
}

/* Category bubbles */
.bubbles{
  display:none;
  margin-top:10px;
  gap:12px;
  flex-wrap:wrap;
}
.bubble{
  padding:10px 16px;
  border-radius:999px;
  background:#EDF2FA;
  border:1px solid #0F2D56;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  white-space:nowrap;
}
.bubble:hover{background:#DDE8FA}

/* Search results */
.search-results{
  margin-top:18px;
  display:none;
}
.search-item{
  padding:10px 6px;
  border-bottom:1px solid #E5E7EB;
  cursor:pointer;
}
.search-item:hover{
  background:#F0F4FF;
}

/* Drawer */
.drawer-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  justify-content:flex-end;
  z-index:1000;
}
.drawer{
  width:440px;
  height:100%;
  background:#fff;
  box-shadow:-4px 0 14px rgba(0,0,0,.15);
  transform:translateX(100%);
  transition:transform .3s ease;
  display:flex;
  flex-direction:column;
}
.drawer-overlay.active .drawer{transform:translateX(0)}
.drawer header{
  padding:16px;
  border-bottom:1px solid #E5E7EB;
  font-weight:700;
  display:flex;
  justify-content:space-between;
}
.drawer .body{
  padding:16px;
  overflow-y:auto;
  flex:1;
}

/* Back */
.back-btn{
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:6px;
  margin-bottom:12px;
}

/* Doc Types */
.doc-type{
  padding:14px;
  border:1px solid #E5E7EB;
  border-radius:10px;
  margin-bottom:12px;
  cursor:pointer;
}
.doc-type:hover{background:#F0F4FF}
.doc-type small{
  display:block;
  color:#6B7280;
  font-size:13px;
}

/* Files */
.file-row{
  padding:10px 12px;
  border:1px solid #E5E7EB;
  border-radius:8px;
  margin-bottom:8px;
  font-size:14px;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
}

/* Upload */
.dropzone{
  border:2px dashed #E5E7EB;
  border-radius:12px;
  padding:18px;
  text-align:center;
  margin-top:18px;
}
.dropzone label{cursor:pointer}
.dropzone input[type=file]{display:none}
.filename{display:none;width:100%;margin-top:10px;padding:8px}
.confirm{display:none;width:100%;margin-top:10px;padding:10px;background:#0F2D56;color:#fff;border:none;border-radius:6px}
</style>
</head>

<body>
<div class="page-wrap">

<div class="header">Legal Document Library</div>

<div class="container">

  <div class="recommend-box">
    <h3>Recommended Legal Assets</h3>
    <p>Based on your survey responses and your conversation with our principal consultant, we recommend uploading:</p>
    <em>Operating Agreement, Independent Contractor Agreement, IP Assignment Form</em>
    <a href="#">Start a New Matter</a>
  </div>

  <div class="actions">
    <input type="text" placeholder="Search documents..." oninput="searchDocs(this.value)">
    <div class="buttons">
      <button class="btn-primary" onclick="toggleBubbles()">Upload</button>
      <button class="btn-secondary">Download Selected</button>
    </div>
  </div>

  <div class="search-results" id="searchResults"></div>

  <div class="category-label" id="categoryLabel">Document Types Categories</div>
  <div class="bubbles" id="bubbles"></div>

</div>

<!-- Drawer -->
<div class="drawer-overlay" id="drawerOverlay" onclick="closeDrawer()">
  <div class="drawer" onclick="event.stopPropagation()">
    <header>
      <span id="drawerTitle"></span>
      <span style="cursor:pointer" onclick="closeDrawer()">Close</span>
    </header>
    <div class="body" id="drawerBody"></div>
  </div>
</div>
</div>

<script>
/* FULL TAXONOMY */
const docs = {
  "Corporate Formation & Governance":[
    "Governance Policy","Board Resolutions","Partner List","Partnership Agreement",
    "Initial Board List","Board Meeting Minutes","IRS Form 2553","Shareholder List",
    "EIN Confirmation Letter","Member List","Articles of Organization",
    "Shareholder Agreement","Corporate Bylaws",
    "Beneficial Ownership Information Report","Formation Document",
    "Board Agreements","Cap Table","Operating Agreement"
  ],
  "Contracts & Agreements":[
    "User Agreement","Scope of Work","Return/Refund Policy","Relevant Agreements",
    "Related Contract","Prior Lease","Prior Investment Agreements",
    "Existing or Expired Agreements","Engagement Summary","Engagement Letter",
    "Dispute Resolution Terms","Warranty","Repair Contract",
    "Vendor Services Agreement","Terms of Service","Vendor Engagement Letter",
    "Reseller Agreement","Consulting Agreement",
    "Non-Disclosure Agreement (NDA)","Custom Legal Document","Sales Agreement",
    "Co-Counsel Agreements","BLG Retainer","BLM Retainer","Contractor Agreement"
  ],
  "Intellectual Property":[
    "USPTO Correspondence","Trademark Registration Certificate",
    "Patent Application or Issued Patent","IP Assignment Agreement",
    "Trademark Application or Legal Opinion","Patent Filing or Legal Opinion"
  ],
  "Compliance & Regulatory":[
    "Regulatory Text","Key Company Policies","Data Security Policy",
    "Data Collection Practices","Cookie Policy","Conflict of Interest Policy",
    "Compliance Checklist","Approval Letter","Access Logs",
    "Compliance Summary Report","Legal Assessment Memo",
    "Legal Review Summary","Privacy Policy"
  ],
  "Financial & Investment":[
    "Pricing Terms","Performance Reports",
    "Investor Deck or Term Sheet","Draft Term Sheet",
    "Audited Financial Statements"
  ],
  "Employment, HR & Policies":[
    "Prior Disciplinary History","Job Classifications","Internal Policy Documents",
    "Employee NDAs","Employee Acknowledgment","Company Handbook",
    "Benefits Overview","Company Policies","Job Description",
    "Termination Letter","Investigation Summary",
    "Employment Agreement","Employee Handbook"
  ],
  "Marketing, Communications & Branding":[
    "Landing Pages","Content Calendar","Ad Content","Brand Guidelines",
    "Social Media Asset","Marketing Collateral",
    "Legal Content Newsletter","Marketing Materials"
  ],
  "Property & Real Estate":[
    "Zoning Approval Documents","Tenant/Guarantor Info",
    "Rent Structure","Commercial Lease Agreement"
  ],
  "Operational & Project Materials":[
    "Supporting Issue Description","Project Summary","Meeting Agenda",
    "Counterparty Information","Client Communication","Matter Materials"
  ],
  "Litigation & Disputes":[
    "Witness Statements","Settlement Discussions","Pleadings",
    "Incident Reports","Garnishment Order","Discovery Timeline",
    "Discovery Documents","Court Orders","Case Docket",
    "Litigation Strategy Report"
  ],
  "Evidence, Incident & Supporting Materials":[
    "Image/Video File","Photos of Damages","Repair Invoice or Work Order"
  ]
};

/* Mock file counts */
const fileCounts = {};
Object.values(docs).flat().forEach(d=>{
  fileCounts[d]=Math.floor(Math.random()*3);
});

const bubbleWrap=document.getElementById("bubbles");
const categoryLabel=document.getElementById("categoryLabel");
const searchResults=document.getElementById("searchResults");

/* Render bubbles */
Object.keys(docs).forEach(cat=>{
  const b=document.createElement("div");
  b.className="bubble";
  b.innerText=cat;
  b.onclick=()=>openDrawer(cat);
  bubbleWrap.appendChild(b);
});

function toggleBubbles(){
  const show = bubbleWrap.style.display!=="flex";
  bubbleWrap.style.display = show ? "flex" : "none";
  categoryLabel.style.display = show ? "block" : "none";
  searchResults.style.display="none";
}

function searchDocs(q){
  q=q.toLowerCase().trim();
  searchResults.innerHTML="";

  if(!q){
    searchResults.style.display="none";
    return;
  }

  bubbleWrap.style.display="none";
  categoryLabel.style.display="none";
  searchResults.style.display="block";

  Object.keys(docs).forEach(cat=>{
    docs[cat].forEach(d=>{
      if(d.toLowerCase().includes(q)){
        const item=document.createElement("div");
        item.className="search-item";
        item.innerText=d;
        item.onclick=()=>{
          openDrawer(cat);
          showDoc(cat,d,fileCounts[d]);
        };
        searchResults.appendChild(item);
      }
    });
  });
}

function openDrawer(cat){
  drawerTitle.innerText=cat;
  renderDocList(cat);
  drawerOverlay.style.display="flex";
  setTimeout(()=>drawerOverlay.classList.add("active"),10);
}

function renderDocList(cat){
  drawerBody.innerHTML="";
  docs[cat].forEach(d=>{
    const c=fileCounts[d];
    const div=document.createElement("div");
    div.className="doc-type";
    div.innerHTML=`${d}<small>${c?c+" files":"No files uploaded"}</small>`;
    div.onclick=()=>showDoc(cat,d,c);
    drawerBody.appendChild(div);
  });
}

function showDoc(cat,type,count){
  let html=`
    <div class="back-btn" onclick="renderDocList('${cat}')">
      <i class="fa-solid fa-arrow-left"></i> Back
    </div>
    <strong>${type}</strong><br><br>
  `;

  if(count){
    for(let i=1;i<=count;i++){
      const base = type.replace(/[^a-zA-Z0-9]+/g,"_");
      const name = i===1 ? `${base}_2024.pdf` : `${base}_New.pdf`;
      html+=`
        <div class="file-row">
          <div>
            <div>${name}</div>
            <div style="font-size:12px;color:#6B7280;">Uploaded on Mar ${10+i}, 2024</div>
          </div>
          <i class="fa-regular fa-eye"></i>
        </div>`;
    }
  }

  html+=`
    <div class="dropzone">
      <label>
        <input type="file">
        Upload file
      </label>
      <input class="filename">
      <button class="confirm">Continue</button>
    </div>`;
  drawerBody.innerHTML=html;
}

function closeDrawer(){
  drawerOverlay.classList.remove("active");
  setTimeout(()=>drawerOverlay.style.display="none",300);
}
</script>

</body>
</html>
